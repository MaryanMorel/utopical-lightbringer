<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Utopical</title>


    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Mobile support -->
    <meta name="viewport" content="width=device-width, initial-scale=1">



    <link rel="stylesheet/less" href="custom_style.less">
    <script src="less.js"></script>

    <script src="handlebars-v3.0.0.js"></script>

    <!-- jQuery -->
    <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>

	<!-- Angular -->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
  
  </head>

  <body>

<div ng-app="">
	<div class="container">
        <div class="row">
            <div class="tweetfeed" id="tweetfeed1"><p>Box 1</p></div>
            <div class="tweetfeed" id="tweetfeed2"><p>Box 2</p></div>
            <div class="tweetfeed" id="tweetfeed3"><p>Box 3</p></div>
            <div class="tweetfeed" id="tweetfeed4"><p>Box 3</p></div>
            <div class="tweetfeed" id="tweetfeed5"><p>Box 3</p></div>
            <div class="tweetfeed" id="tweetfeed6"><p>Box 3</p></div>
            </div>
        </div>
    </div>
</div>

    
    <script id="tweetTemplate" type="text/x-handlebars-template">​
    <div class="ribbitWrapper">
        <img class="avatar" src="{{ user.profile_image_url }}">
        <div class="tweet-content">
          <header class="tweet-header">
            <div class="time">15m</div>
            <div class="account-inline">
              <span class="name">{{ user.name }}</span>
              <span class="screen-name">@{{ user.screen_name }}</span>
            </div>
          </header>
          <p>{{ text }}</p>
          {{#if cards.photos.length }}
            <a href="{{ cards.photos.0.url }}">
              <div class="cropped-img" style="background-image: url('{{ cards.photos.0.images.web.image_url }}');">
              </div>
            </a>
          {{/if}}
        </div>
      </div>
      </script>


  <script>
        function shuffleArray(array) {
          for (var i = array.length - 1; i > 0; i--) {
              var j = Math.floor(Math.random() * (i + 1));
              var temp = array[i];
              array[i] = array[j];
              array[j] = temp;
          }
          return array;
        }

        $.getJSON( "data/api_response_head.json", function( data ) {
          var items = [];
          $.each( data, function( key, val ) {

            var tweetTemplateScript = $("#tweetTemplate").html().replace(/[\u200B]/g, '');  
            var tweetTemplate = Handlebars.compile(tweetTemplateScript);  

            var tweetHtml = tweetTemplate(val);

            items.push(tweetHtml);
          });

          document.getElementById("tweetfeed1").innerHTML = items.join( "" );
          items = shuffleArray(items);
          document.getElementById("tweetfeed2").innerHTML = items.join( "" );
          items = shuffleArray(items);
          document.getElementById("tweetfeed3").innerHTML = items.join( "" );
          items = shuffleArray(items);
          document.getElementById("tweetfeed4").innerHTML = items.join( "" );
          items = shuffleArray(items);
          document.getElementById("tweetfeed5").innerHTML = items.join( "" );
          items = shuffleArray(items);
          document.getElementById("tweetfeed6").innerHTML = items.join( "" );
      });
      </script>


  </body>
  
</html>